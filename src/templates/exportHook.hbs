{{>header}}

import { useQuery, useMutation } from '@anyroad/hooks';
import { {{clientName}} } from '../../client';
{{#if imports}}
	{{#each imports}}
		import type { {{{this}}} } from '../models/{{{this}}}';
	{{/each}}
{{/if}}

const client = new {{clientName}}();

{{#each operations}}
		{{#equals method 'GET'}}
			export const use{{pascalCase name}} = ({{>parameters}}, options: Parameters<typeof useQuery>[2]) => {
				return useQuery(['{{ camelCase service}}', '{{ camelCase name }}', {{#each parameters}}{{name}}, {{/each}}], async () => {
					return client.{{camelCase service}}.{{name}}({{#if parameters}}{
						{{#each parameters}}
						{{name}},
						{{/each}}
					}{{/if}}, options);
				});
			};
		{{else}}
			export const use{{pascalCase name}} = ({{>parameters}}, options: Parameters<typeof useMutation>[1]) => {
				return useMutation(async () => {
					return client.{{camelCase service}}.{{name}}({{#if parameters}}{
						{{#each parameters}}
						{{name}},
						{{/each}}
					}{{/if}}, options);
				});
			};
		{{/equals}}
{{/each}}

